<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta property="wb:webmaster" content="65a151beb5e21880" />
	<!-- baidu analytics-->
	<script>
		var _hmt = _hmt || [];
		(function() {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?09df6a0c610161ab3099d8e11e9c998e";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>
	<!-- google analytics-->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-86667923-1', 'auto');
		ga('send', 'pageview');
	</script>
	
	<title>精巧而强大的 UnderscoreJS | Bevis Blog - 沈浩个人博客</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="description" content="从其他语言转向Javascript时，通常都会遇到一些困惑性问题。比如，Java中的HashMap在Javascript中如何实现？Javascript面向对象式编程如何实现继承？如何实现通用的iterator对集合对象做遍历？如何对Array实现快速排序？….
如果你真的可以自己实现这些功能，那么你的Javascript基础很扎实的！我很佩服你！但对于大部分人来说，这些基础功能应该是由底层API">
<meta property="og:type" content="article">
<meta property="og:title" content="精巧而强大的 UnderscoreJS">
<meta property="og:url" content="https://utopia1991.github.io/2016/11/23/underscore/index.html">
<meta property="og:site_name" content="Bevis Blog - 沈浩个人博客">
<meta property="og:description" content="从其他语言转向Javascript时，通常都会遇到一些困惑性问题。比如，Java中的HashMap在Javascript中如何实现？Javascript面向对象式编程如何实现继承？如何实现通用的iterator对集合对象做遍历？如何对Array实现快速排序？….
如果你真的可以自己实现这些功能，那么你的Javascript基础很扎实的！我很佩服你！但对于大部分人来说，这些基础功能应该是由底层API">
<meta property="og:updated_time" content="2016-11-23T07:04:11.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="精巧而强大的 UnderscoreJS">
<meta name="twitter:description" content="从其他语言转向Javascript时，通常都会遇到一些困惑性问题。比如，Java中的HashMap在Javascript中如何实现？Javascript面向对象式编程如何实现继承？如何实现通用的iterator对集合对象做遍历？如何对Array实现快速排序？….
如果你真的可以自己实现这些功能，那么你的Javascript基础很扎实的！我很佩服你！但对于大部分人来说，这些基础功能应该是由底层API">
	
	
		<link rel="icon" href="https://utopia1991.github.io/css/images/icon.png">
	
	
		<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
	
	<link rel="stylesheet" href="/css/style.css">
	

</head>

<body>
	<div id="container">
		<div id="wrap">
			<header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">
          <span class="brand-logo">Bevis</span>
          Blog
        </a>
      </h1>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">博文</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://utopia1991.github.io"></form>
      </div>
    </div>
  </div>
</header>

			<canvas width="100%" height="100%" id="canvas"></canvas>
			<div class="outer">
				
				<aside id="sidebar">
	<div class="aside-author">
		<div class="aside-logo"></div>
		<p class="aside-title">Bevis Shen（沈浩）</p>
		<p class="aside-subtitle">Node.js & Front-End Engineer</p>
		<p class="aside-description">Google 重度粉，Mac 拥趸，前端 + Node 青年，对前沿技术有着狂热的激情，梦想环游世界，热爱生活、摄影、旅游、电影的文艺程序猿一枚</p>
		<div class="aside-communicate">
			<a href="https://github.com/utopia1991" target="_blank" class="article-share-github" title="github"></a>
			<a href="https://www.linkedin.com/in/bevis1991" target="_blank" class="article-share-linkedin" title="linkedin"></a>
			<a href="mailto:1304354608@qq.com" class="article-share-mail" title="email"></a>
			<a href="https://weibo.com/u/2619492527/home" target="_blank" class="article-share-weibo" title="weibo"></a>
			<a class="article-share-weixin" title="我的个人微信公众号"></a>
			<img src="https://utopia1991.github.io/css/images/wechat.png" width="180" height="180" class="wechat-pic none">
			<a href="https://bevis1991.wordpress.com/" target="_blank" class="article-share-wordpress" title="WordPress 博客"></a>
			<a href="https://www.facebook.com/bevis1991" target="_blank" class="article-share-facebook" title="facebook"></a>
			<a href="https://twitter.com/bevis_shen" target="_blank" class="article-share-twitter" title="twitter"></a>
		</div>
	</div>
	
		

	
		
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coffeescript/">Coffeescript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/">Javascript</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongoose/">Mongoose</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


	
		
  <div class="widget-wrap">
    <h3 class="widget-title">Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Coffeescript/" style="font-size: 10px;">Coffeescript</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Mongoose/" style="font-size: 10px;">Mongoose</a>
    </div>
  </div>

	
		
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">11</span></li></ul>
    </div>
  </div>


	
		
	<div class="widget-wrap">
		<h3 class="widget-title">最新文章</h3>
		<div class="widget">
			<ul>
				
					<li>
						<a href="/2016/11/23/underscore/">
							精巧而强大的 UnderscoreJS
						</a>
					</li>
					
					<li>
						<a href="/2016/11/14/fisher/">
							Fisher–Yates shuffle 洗牌算法
						</a>
					</li>
					
					<li>
						<a href="/2016/11/13/macIcon/">
							Mac 更改 OS X 应用程序的图标
						</a>
					</li>
					
					<li>
						<a href="/2016/11/02/preventDefault/">
							Javascript 注意点
						</a>
					</li>
					
					<li>
						<a href="/2016/11/01/mongodb/">
							Mongoose 基本介绍
						</a>
					</li>
					
					<li>
						<a href="/2016/10/27/getPost/">
							Get 与 Post 区别
						</a>
					</li>
					
					<li>
						<a href="/2016/10/27/http/">
							HTTP 协议
						</a>
					</li>
					
					<li>
						<a href="/2016/10/25/superAgent/">
							SuperAgent 中文使用文档
						</a>
					</li>
					
					<li>
						<a href="/2016/10/24/interview/">
							一篇不错的前端面试文章(译)
						</a>
					</li>
					
					<li>
						<a href="/2016/10/24/express/">
							Node.js Express 框架
						</a>
					</li>
					
					<li>
						<a href="/2016/10/24/commandLine/">
							Mac 常用终端命令
						</a>
					</li>
					
					<li>
						<a href="/2016/10/24/mvc/">
							MVC 可能快过气了
						</a>
					</li>
					
					<li>
						<a href="/2016/10/23/dust/">
							Dust 模版引擎
						</a>
					</li>
					
					<li>
						<a href="/2016/10/23/markdown/">
							Markdown 编辑器语法指南
						</a>
					</li>
					
					<li>
						<a href="/2016/10/23/coffee/">
							Coffeescript 学习笔记
						</a>
					</li>
					
					<li>
						<a href="/2016/10/21/eslint/">
							EsLint入门
						</a>
					</li>
					
				......
			</ul>
		</div>
	</div>
	

	
</aside>

				
				<section id="main">
					<div class="main-header">
						<span class="main-title">求知若饥 虚心若愚</span>
					</div>
					<article id="post-underscore" class="article article-type-post" itemscope itemprop="blogPost">
	<div class="article-meta">
		
	</div>
	<div class="article-inner">
		
		
			<header class="article-header">
				
	
		<h1 class="article-title" itemprop="name">
			精巧而强大的 UnderscoreJS
		</h1>
	


				<a href="/2016/11/23/underscore/" class="article-date">
  <time datetime="2016-11-23T06:29:38.000Z" itemprop="datePublished">2016-11-23</time>
</a>
			</header>
		
		<div class="article-entry" itemprop="articleBody">
			
				<p>从其他语言转向Javascript时，通常都会遇到一些困惑性问题。比如，Java中的HashMap在Javascript中如何实现？Javascript面向对象式编程如何实现继承？如何实现通用的iterator对集合对象做遍历？如何对Array实现快速排序？….</p>
<p>如果你真的可以自己实现这些功能，那么你的Javascript基础很扎实的！我很佩服你！但对于大部分人来说，这些基础功能应该是由底层API支持的，就像JDK一样。Underscore为我们提供了这样的一个实用工具包，而且它真的很实用！<br><a id="more"></a></p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>EsLint提供以下支持：</p>
<ul>
<li>1.Underscore介绍</li>
<li>2.Underscore安装</li>
<li>3.集合部分:数组或对象</li>
<li>4.数组部分</li>
<li>5.函数部分</li>
<li>6.对象部分</li>
<li>7.实用功能</li>
<li>8.链式语法</li>
<li>9.字符串处理Underscore.String</li>
</ul>
<h3 id="1-Underscore介绍"><a href="#1-Underscore介绍" class="headerlink" title="1.Underscore介绍"></a>1.Underscore介绍</h3><p>Underscore 是一个JavaScript实用库,提供了类似Prototype.js的一些功能,但是没有继承任何JavaScript内置对象。它弥补了部分jQuery没有实现的功能,同时又是Backbone.js必不可少的部分。</p>
<p>Underscore提供了80多个函数,包括常用的: map, select, invoke — 当然还有更多专业的辅助函数,如:函数绑定, JavaScript模板功能, 强类型相等测试, 等等. 在新的浏览器中, 有许多函数如果浏览器本身直接支持,将会采用原生的,如 forEach, map, reduce, filter, every, some 和 indexOf.</p>
<p>Underscore介绍，摘自 <a href="http://learningcn.com/underscore/" target="_blank" rel="external">http://learningcn.com/underscore/</a></p>
<h3 id="2-Underscore安装"><a href="#2-Underscore安装" class="headerlink" title="2.Underscore安装"></a>2.Underscore安装</h3><p>Underscore.js是一个Javascript功能类库，不依赖于环境，可以加载到HTML中在浏览器运行，也可以直接在nodejs的环境中使用。<br>为了方便介绍函数功能，我这里选择在nodejs的环境中运行。</p>
<p>EsLint通过parserOptions，允许指定校验的ecma的版本，及ecma的一些特性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install underscore</div></pre></td></tr></table></figure>
<p>underscore有80多的函数，下面我只介绍一些，我比较感兴趣的，实用的。</p>
<h3 id="3-集合部分-数组或对象"><a href="#3-集合部分-数组或对象" class="headerlink" title="3. 集合部分: 数组或对象"></a>3. 集合部分: 数组或对象</h3><h4 id="each-对集合循环操作"><a href="#each-对集合循环操作" class="headerlink" title="each: 对集合循环操作"></a>each: 对集合循环操作</h4><p>Environment可以预设好的其他环境的全局变量，如brower、node环境变量、es6环境变量、mocha环境变量等</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">_.each([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="function"><span class="keyword">function</span> (<span class="params">ele, idx</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(idx + <span class="string">":"</span> + ele);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">=&gt; <span class="number">0</span>:<span class="number">1</span></div><div class="line">	 <span class="number">1</span>:<span class="number">2</span></div><div class="line">	 <span class="number">2</span>:<span class="number">3</span></div></pre></td></tr></table></figure>
<h4 id="map-对集合以map方式遍历，产生一个新数组"><a href="#map-对集合以map方式遍历，产生一个新数组" class="headerlink" title="map: 对集合以map方式遍历，产生一个新数组"></a>map: 对集合以map方式遍历，产生一个新数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.map([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">		<span class="keyword">return</span> num * <span class="number">3</span>;</div><div class="line">	&#125;)</div><div class="line">);</div><div class="line">=&gt; [<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</div></pre></td></tr></table></figure>
<h4 id="reduce-集合元素合并集的到memo"><a href="#reduce-集合元素合并集的到memo" class="headerlink" title="reduce: 集合元素合并集的到memo"></a>reduce: 集合元素合并集的到memo</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.reduce([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="function"><span class="keyword">function</span> (<span class="params">memo, num</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> memo + num;</div><div class="line">	&#125;, <span class="number">0</span>)</div><div class="line">);</div><div class="line">=&gt; <span class="number">6</span></div></pre></td></tr></table></figure>
<h4 id="filter-过滤集合中符合条件的元素。注：find-只返回第一个"><a href="#filter-过滤集合中符合条件的元素。注：find-只返回第一个" class="headerlink" title="filter: 过滤集合中符合条件的元素。注：find:只返回第一个"></a>filter: 过滤集合中符合条件的元素。注：find:只返回第一个</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.filter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">		<span class="keyword">return</span> num % <span class="number">2</span> == <span class="number">0</span>;</div><div class="line">	&#125;)</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span> ]</div></pre></td></tr></table></figure>
<h4 id="reject-过滤集合中不符合条件的元素"><a href="#reject-过滤集合中不符合条件的元素" class="headerlink" title="reject: 过滤集合中不符合条件的元素"></a>reject: 过滤集合中不符合条件的元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.reject([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">		<span class="keyword">return</span> num % <span class="number">2</span> == <span class="number">0</span>;</div><div class="line">	&#125;)</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span> ]</div></pre></td></tr></table></figure>
<h4 id="where-遍历list-返回新的对象数组"><a href="#where-遍历list-返回新的对象数组" class="headerlink" title="where: 遍历list, 返回新的对象数组"></a>where: 遍历list, 返回新的对象数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> list = [</div><div class="line">	&#123;<span class="attr">title</span>:<span class="string">"AAA"</span>,<span class="attr">year</span>: <span class="number">1982</span>&#125;,</div><div class="line">	&#123;<span class="attr">title</span>:<span class="string">"BBB"</span>,<span class="attr">year</span>: <span class="number">1900</span>&#125;,</div><div class="line">	&#123;<span class="attr">title</span>:<span class="string">"CCC"</span>,<span class="attr">year</span>: <span class="number">1982</span>&#125;</div><div class="line">];</div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.where(list,&#123;<span class="attr">year</span>: <span class="number">1982</span>&#125;)</div><div class="line">);</div><div class="line">=&gt; [ &#123; <span class="attr">title</span>: <span class="string">'AAA'</span>, <span class="attr">year</span>: <span class="number">1982</span> &#125;, &#123; <span class="attr">title</span>: <span class="string">'CCC'</span>, <span class="attr">year</span>: <span class="number">1982</span> &#125; ]</div></pre></td></tr></table></figure>
<h4 id="contains-判断元素是否在list中"><a href="#contains-判断元素是否在list中" class="headerlink" title="contains:判断元素是否在list中"></a>contains:判断元素是否在list中</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.contains([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">3</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<h4 id="invoke-通过函数名调用函数运行"><a href="#invoke-通过函数名调用函数运行" class="headerlink" title="invoke:通过函数名调用函数运行"></a>invoke:通过函数名调用函数运行</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.invoke([[<span class="number">5</span>, <span class="number">1</span>, <span class="number">7</span>]], <span class="string">'sort'</span>)</div><div class="line">);</div><div class="line">=&gt; [ [ <span class="number">1</span>, <span class="number">5</span>, <span class="number">7</span> ] ]</div></pre></td></tr></table></figure>
<h4 id="pluck-提取一个集合里指定的属性值"><a href="#pluck-提取一个集合里指定的属性值" class="headerlink" title="pluck: 提取一个集合里指定的属性值"></a>pluck: 提取一个集合里指定的属性值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> users = [</div><div class="line">	&#123;<span class="attr">name</span>: <span class="string">'moe'</span>, <span class="attr">age</span>: <span class="number">40</span>&#125;,</div><div class="line">	&#123;<span class="attr">name</span>: <span class="string">'larry'</span>, <span class="attr">age</span>: <span class="number">50</span>&#125;</div><div class="line">];</div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.pluck(users, <span class="string">'name'</span>)</div><div class="line">);</div><div class="line">=&gt; [ <span class="string">'moe'</span>, <span class="string">'larry'</span> ]</div></pre></td></tr></table></figure>
<h4 id="max-min-sortBy-取list中的最大-最小元素，自定义比较器"><a href="#max-min-sortBy-取list中的最大-最小元素，自定义比较器" class="headerlink" title="max,min,sortBy: 取list中的最大,最小元素，自定义比较器"></a>max,min,sortBy: 取list中的最大,最小元素，自定义比较器</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.max(users, <span class="function"><span class="keyword">function</span> (<span class="params">stooge</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> stooge.age;</div><div class="line">	&#125;)</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="attr">name</span>: <span class="string">'larry'</span>, <span class="attr">age</span>: <span class="number">50</span> &#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> numbers = [<span class="number">10</span>, <span class="number">5</span>, <span class="number">100</span>, <span class="number">2</span>, <span class="number">1000</span>];</div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.min(numbers)</div><div class="line">);</div><div class="line">=&gt; <span class="number">2</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.sortBy([<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span> , <span class="number">6</span>], <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="built_in">Math</span>.max(num);</div><div class="line">	&#125;)</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span> ]</div></pre></td></tr></table></figure>
<h4 id="groupBy-把一个集合分组成多个集合"><a href="#groupBy-把一个集合分组成多个集合" class="headerlink" title="groupBy: 把一个集合分组成多个集合"></a>groupBy: 把一个集合分组成多个集合</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.groupBy([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], <span class="string">'length'</span>)</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="string">'3'</span>: [ <span class="string">'one'</span>, <span class="string">'two'</span> ], <span class="string">'5'</span>: [ <span class="string">'three'</span> ] &#125;</div></pre></td></tr></table></figure>
<h4 id="countBy-把一个数据分组后计数"><a href="#countBy-把一个数据分组后计数" class="headerlink" title="countBy: 把一个数据分组后计数"></a>countBy: 把一个数据分组后计数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.countBy([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> num % <span class="number">2</span> == <span class="number">0</span> ? <span class="string">'even'</span> : <span class="string">'odd'</span>;</div><div class="line">	&#125;)</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="attr">odd</span>: <span class="number">3</span>, <span class="attr">even</span>: <span class="number">2</span> &#125;</div></pre></td></tr></table></figure>
<h4 id="shuffle-随机打乱一个数据"><a href="#shuffle-随机打乱一个数据" class="headerlink" title="shuffle: 随机打乱一个数据"></a>shuffle: 随机打乱一个数据</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.shuffle([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span> ]</div></pre></td></tr></table></figure>
<h4 id="toArray-将list转换成一个数组"><a href="#toArray-将list转换成一个数组" class="headerlink" title="toArray: 将list转换成一个数组"></a>toArray: 将list转换成一个数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> _.toArray(<span class="built_in">arguments</span>).slice(<span class="number">1</span>);</div><div class="line">	&#125;)(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</div></pre></td></tr></table></figure>
<h4 id="size-得到list中元素个数"><a href="#size-得到list中元素个数" class="headerlink" title="size: 得到list中元素个数"></a>size: 得到list中元素个数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.size(&#123;<span class="attr">one</span>: <span class="number">1</span>, <span class="attr">two</span>: <span class="number">2</span>, <span class="attr">three</span>: <span class="number">3</span>&#125;)</div><div class="line">);</div></pre></td></tr></table></figure>
<h3 id="4-数组部分"><a href="#4-数组部分" class="headerlink" title="4. 数组部分"></a>4. 数组部分</h3><h4 id="first-last-initial-rest-数组的元素操作"><a href="#first-last-initial-rest-数组的元素操作" class="headerlink" title="first,last,initial,rest: 数组的元素操作"></a>first,last,initial,rest: 数组的元素操作</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> nums = [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(_.first(nums));</div><div class="line"><span class="built_in">console</span>.log(_.last(nums));</div><div class="line"><span class="built_in">console</span>.log(_.initial(nums,<span class="number">1</span>));</div><div class="line"><span class="built_in">console</span>.log(_.rest(nums,<span class="number">1</span>));</div><div class="line">=&gt; <span class="number">5</span></div><div class="line"><span class="number">1</span></div><div class="line">[ <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span> ]</div><div class="line">[ <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span> ]</div></pre></td></tr></table></figure>
<h4 id="indexOf-lastIndexOf-sortedIndex：取索引位置"><a href="#indexOf-lastIndexOf-sortedIndex：取索引位置" class="headerlink" title="indexOf,lastIndexOf,sortedIndex：取索引位置"></a>indexOf,lastIndexOf,sortedIndex：取索引位置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.indexOf([<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>], <span class="number">4</span>));</div><div class="line"><span class="built_in">console</span>.log(_.lastIndexOf([<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>], <span class="number">4</span>));</div><div class="line"><span class="built_in">console</span>.log(_.sortedIndex([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>], <span class="number">35</span>));</div><div class="line">=&gt; <span class="number">0</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure>
<h4 id="range-创建一个范围整数数组"><a href="#range-创建一个范围整数数组" class="headerlink" title="range: 创建一个范围整数数组"></a>range: 创建一个范围整数数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.range(<span class="number">1</span>,<span class="number">10</span>));</div><div class="line"><span class="built_in">console</span>.log(_.range(<span class="number">0</span>, <span class="number">-10</span>, <span class="number">-1</span>));</div><div class="line">=&gt; [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> ]</div><div class="line">[ <span class="number">0</span>, <span class="number">-1</span>, <span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-4</span>, <span class="number">-5</span>, <span class="number">-6</span>, <span class="number">-7</span>, <span class="number">-8</span>, <span class="number">-9</span> ]</div></pre></td></tr></table></figure>
<h4 id="compact-数组去除空值"><a href="#compact-数组去除空值" class="headerlink" title="compact:数组去除空值"></a>compact:数组去除空值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.compact([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>, <span class="string">''</span>, <span class="number">3</span>])</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</div></pre></td></tr></table></figure>
<h4 id="flatten-将一个嵌套多层的数组-嵌套可以是任何层数-转换为只有一层的数组"><a href="#flatten-将一个嵌套多层的数组-嵌套可以是任何层数-转换为只有一层的数组" class="headerlink" title="flatten:将一个嵌套多层的数组(嵌套可以是任何层数)转换为只有一层的数组"></a>flatten:将一个嵌套多层的数组(嵌套可以是任何层数)转换为只有一层的数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.flatten([<span class="number">1</span>, [<span class="number">2</span>], [<span class="number">3</span>, [[<span class="number">4</span>]]]])</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</div></pre></td></tr></table></figure>
<h4 id="without-去掉元素"><a href="#without-去掉元素" class="headerlink" title="without: 去掉元素"></a>without: 去掉元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.without([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>], <span class="number">0</span>,<span class="number">1</span> )</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</div></pre></td></tr></table></figure>
<h4 id="union-intersection-difference-uniq-并集，交集，差集，取唯一"><a href="#union-intersection-difference-uniq-并集，交集，差集，取唯一" class="headerlink" title="union,intersection,difference,uniq: 并集，交集，差集，取唯一"></a>union,intersection,difference,uniq: 并集，交集，差集，取唯一</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.union([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">101</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>], [<span class="number">2</span>, <span class="number">1</span>]));</div><div class="line"><span class="built_in">console</span>.log(_.intersection([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">101</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>], [<span class="number">2</span>, <span class="number">1</span>]));</div><div class="line"><span class="built_in">console</span>.log(_.difference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">10</span>]));</div><div class="line"><span class="built_in">console</span>.log(_.uniq([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>]));</div><div class="line">=&gt; [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">101</span>, <span class="number">10</span> ]</div><div class="line">[ <span class="number">1</span>, <span class="number">2</span> ]</div><div class="line">[ <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span> ]</div><div class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</div></pre></td></tr></table></figure>
<h4 id="zip-合并多个数组中的元素，是group的反向操作"><a href="#zip-合并多个数组中的元素，是group的反向操作" class="headerlink" title="zip: 合并多个数组中的元素，是group的反向操作"></a>zip: 合并多个数组中的元素，是group的反向操作</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.zip([<span class="string">'moe'</span>, <span class="string">'larry'</span>, <span class="string">'curly'</span>], [<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>], [<span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">false</span>])</div><div class="line">);</div><div class="line">=&gt; [ [ <span class="string">'moe'</span>, <span class="number">30</span>, <span class="literal">true</span> ],</div><div class="line">[ <span class="string">'larry'</span>, <span class="number">40</span>, <span class="literal">false</span> ],</div><div class="line">[ <span class="string">'curly'</span>, <span class="number">50</span>, <span class="literal">false</span> ] ]</div></pre></td></tr></table></figure>
<h4 id="object-把数组转换成对象"><a href="#object-把数组转换成对象" class="headerlink" title="object: 把数组转换成对象"></a>object: 把数组转换成对象</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.object([<span class="string">'moe'</span>, <span class="string">'larry'</span>, <span class="string">'curly'</span>], [<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>])</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="attr">moe</span>: <span class="number">30</span>, <span class="attr">larry</span>: <span class="number">40</span>, <span class="attr">curly</span>: <span class="number">50</span> &#125;</div></pre></td></tr></table></figure>
<h3 id="5-函数部分"><a href="#5-函数部分" class="headerlink" title="5. 函数部分"></a>5. 函数部分</h3><h4 id="bind-绑定函数到对象上-无论何时函数被调用-函数里的this都指向对象"><a href="#bind-绑定函数到对象上-无论何时函数被调用-函数里的this都指向对象" class="headerlink" title="bind: 绑定函数到对象上, 无论何时函数被调用, 函数里的this都指向对象."></a>bind: 绑定函数到对象上, 无论何时函数被调用, 函数里的this都指向对象.</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span>(<span class="params">greeting</span>)</span>&#123; <span class="keyword">return</span> greeting + <span class="string">': '</span> + <span class="keyword">this</span>.name &#125;;</div><div class="line">func = _.bind(func, &#123;<span class="attr">name</span> : <span class="string">'moe'</span>&#125;, <span class="string">'hi'</span>);</div><div class="line"><span class="built_in">console</span>.log(func());</div><div class="line">=&gt; hi: moe</div></pre></td></tr></table></figure>
<h4 id="bindAll-绑定方法名到对象上-当这些方法被执行时将在对象的上下文执行-绑定函数用作事件处理时非常方便-否则函数调用时-this-关键字根本没什么用"><a href="#bindAll-绑定方法名到对象上-当这些方法被执行时将在对象的上下文执行-绑定函数用作事件处理时非常方便-否则函数调用时-this-关键字根本没什么用" class="headerlink" title="bindAll: 绑定方法名到对象上, 当这些方法被执行时将在对象的上下文执行. 绑定函数用作事件处理时非常方便, 否则函数调用时 this 关键字根本没什么用."></a>bindAll: 绑定方法名到对象上, 当这些方法被执行时将在对象的上下文执行. 绑定函数用作事件处理时非常方便, 否则函数调用时 this 关键字根本没什么用.</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> buttonView = &#123;</div><div class="line">    <span class="attr">label</span>   : <span class="string">'underscore'</span>,</div><div class="line">    <span class="attr">onClick</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'clicked: '</span> + <span class="keyword">this</span>.label); &#125;,</div><div class="line">    <span class="attr">onHover</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'hovering: '</span> + <span class="keyword">this</span>.label); &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> func  = _.bindAll(buttonView, <span class="string">'onClick'</span>, <span class="string">'onHover'</span>);</div><div class="line">func.onClick();</div><div class="line">=&gt; clicked: underscore</div></pre></td></tr></table></figure>
<h4 id="partial-在不改变this的情况下，通过参数填充数据"><a href="#partial-在不改变this的情况下，通过参数填充数据" class="headerlink" title="partial:在不改变this的情况下，通过参数填充数据"></a>partial:在不改变this的情况下，通过参数填充数据</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123; <span class="keyword">return</span> a + b; &#125;;</div><div class="line">add5 = _.partial(add, <span class="number">5</span>);</div><div class="line"><span class="built_in">console</span>.log(add5(<span class="number">10</span>));</div><div class="line">=&gt; <span class="number">15</span></div></pre></td></tr></table></figure>
<h4 id="memoize-通过缓存计算结果使函数具有记忆功能。"><a href="#memoize-通过缓存计算结果使函数具有记忆功能。" class="headerlink" title="memoize: 通过缓存计算结果使函数具有记忆功能。"></a>memoize: 通过缓存计算结果使函数具有记忆功能。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fibonacci = _.memoize(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> n &lt; <span class="number">2</span> ? n : fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>);</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(fibonacci(<span class="number">10</span>));</div><div class="line">=&gt; <span class="number">55</span></div></pre></td></tr></table></figure>
<h4 id="delay-在等待xx毫秒之后调用函数，类似于setTimeout"><a href="#delay-在等待xx毫秒之后调用函数，类似于setTimeout" class="headerlink" title="delay: 在等待xx毫秒之后调用函数，类似于setTimeout"></a>delay: 在等待xx毫秒之后调用函数，类似于setTimeout</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> log = _.bind(<span class="built_in">console</span>.log, <span class="built_in">console</span>);</div><div class="line">_.delay(log, <span class="number">1000</span>, <span class="string">'sleep 1s'</span>);</div><div class="line">=&gt; sleep <span class="number">1</span>s</div></pre></td></tr></table></figure>
<h4 id="defer-延迟调用函数-直到当前调用栈被清空为止-跟使用-setTimeout-赋予0毫秒的延时很像-对执行高消耗算法或大型HTML呈现而不阻碍UI更新线程很有用"><a href="#defer-延迟调用函数-直到当前调用栈被清空为止-跟使用-setTimeout-赋予0毫秒的延时很像-对执行高消耗算法或大型HTML呈现而不阻碍UI更新线程很有用" class="headerlink" title="defer: 延迟调用函数, 直到当前调用栈被清空为止, 跟使用 setTimeout 赋予0毫秒的延时很像. 对执行高消耗算法或大型HTML呈现而不阻碍UI更新线程很有用."></a>defer: 延迟调用函数, 直到当前调用栈被清空为止, 跟使用 setTimeout 赋予0毫秒的延时很像. 对执行高消耗算法或大型HTML呈现而不阻碍UI更新线程很有用.</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">_.defer(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'deferred'</span>); &#125;);</div><div class="line">=&gt; deferred</div></pre></td></tr></table></figure>
<h4 id="throttle-返回一个类似于节流阀一样的函数-当高频率的调用函数-实际上会每隔-wait-毫秒才会调用一次-对于高到您感觉不到的高频率执行的函数时非常有用"><a href="#throttle-返回一个类似于节流阀一样的函数-当高频率的调用函数-实际上会每隔-wait-毫秒才会调用一次-对于高到您感觉不到的高频率执行的函数时非常有用" class="headerlink" title="throttle:返回一个类似于节流阀一样的函数, 当高频率的调用函数, 实际上会每隔 wait 毫秒才会调用一次. 对于高到您感觉不到的高频率执行的函数时非常有用."></a>throttle:返回一个类似于节流阀一样的函数, 当高频率的调用函数, 实际上会每隔 wait 毫秒才会调用一次. 对于高到您感觉不到的高频率执行的函数时非常有用.</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> throttled = _.throttle(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	_(<span class="number">5</span>).times(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123; <span class="built_in">console</span>.log(n+<span class="string">":"</span>+<span class="keyword">new</span> <span class="built_in">Date</span>()); &#125;);</div><div class="line">&#125;, <span class="number">100</span>);</div><div class="line">throttled();</div><div class="line">=&gt; <span class="number">0</span>:Wed Aug <span class="number">28</span> <span class="number">2013</span> <span class="number">14</span>:<span class="number">20</span>:<span class="number">48</span> GMT+<span class="number">0800</span></div><div class="line"><span class="number">1</span>:Wed Aug <span class="number">28</span> <span class="number">2013</span> <span class="number">14</span>:<span class="number">20</span>:<span class="number">48</span> GMT+<span class="number">0800</span></div><div class="line"><span class="number">2</span>:Wed Aug <span class="number">28</span> <span class="number">2013</span> <span class="number">14</span>:<span class="number">20</span>:<span class="number">48</span> GMT+<span class="number">0800</span></div><div class="line"><span class="number">3</span>:Wed Aug <span class="number">28</span> <span class="number">2013</span> <span class="number">14</span>:<span class="number">20</span>:<span class="number">48</span> GMT+<span class="number">0800</span></div><div class="line"><span class="number">4</span>:Wed Aug <span class="number">28</span> <span class="number">2013</span> <span class="number">14</span>:<span class="number">20</span>:<span class="number">48</span> GMT+<span class="number">0800</span></div></pre></td></tr></table></figure>
<h4 id="debounce-返回函数的防反跳版本-将延迟函数的执行-真正的执行-在函数最后一次调用时刻的等待xx毫秒之后，可以实现延迟加载。"><a href="#debounce-返回函数的防反跳版本-将延迟函数的执行-真正的执行-在函数最后一次调用时刻的等待xx毫秒之后，可以实现延迟加载。" class="headerlink" title="debounce: 返回函数的防反跳版本, 将延迟函数的执行(真正的执行)在函数最后一次调用时刻的等待xx毫秒之后，可以实现延迟加载。"></a>debounce: 返回函数的防反跳版本, 将延迟函数的执行(真正的执行)在函数最后一次调用时刻的等待xx毫秒之后，可以实现延迟加载。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> lazyLoad = _.debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"lazy load 3s"</span>);</div><div class="line">&#125;, <span class="number">3000</span>);</div><div class="line">lazyLoad();</div><div class="line">=&gt; lazy load <span class="number">3</span>s</div></pre></td></tr></table></figure>
<h4 id="once-创建一个只能运行一次的函数-重复调用此修改过的函数会没有效果-只会返回第一次执行时返回的结果。单例模式。"><a href="#once-创建一个只能运行一次的函数-重复调用此修改过的函数会没有效果-只会返回第一次执行时返回的结果。单例模式。" class="headerlink" title="once: 创建一个只能运行一次的函数. 重复调用此修改过的函数会没有效果, 只会返回第一次执行时返回的结果。单例模式。"></a>once: 创建一个只能运行一次的函数. 重复调用此修改过的函数会没有效果, 只会返回第一次执行时返回的结果。单例模式。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> initialize = _.once(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">'initialize'</span>);&#125;);</div><div class="line">initialize();</div><div class="line">initialize();</div><div class="line">=&gt; initialize</div></pre></td></tr></table></figure>
<h4 id="after-对循环计数，只有超过计数，才会调用指定的函数"><a href="#after-对循环计数，只有超过计数，才会调用指定的函数" class="headerlink" title="after: 对循环计数，只有超过计数，才会调用指定的函数"></a>after: 对循环计数，只有超过计数，才会调用指定的函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">var</span> renderNums = _.after(nums.length, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'render nums'</span>);</div><div class="line">&#125;);</div><div class="line">_.each(nums, <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'each:'</span>+num);</div><div class="line">	renderNums();</div><div class="line">&#125;);</div><div class="line">=&gt; each:<span class="number">1</span></div><div class="line">each:<span class="number">2</span></div><div class="line">each:<span class="number">3</span></div><div class="line">each:<span class="number">4</span></div><div class="line">render nums</div></pre></td></tr></table></figure>
<h4 id="wrap-以函数作为函数传递，可以增加函数调用前后的控制。有点类似于-“模板方法模式”"><a href="#wrap-以函数作为函数传递，可以增加函数调用前后的控制。有点类似于-“模板方法模式”" class="headerlink" title="wrap: 以函数作为函数传递，可以增加函数调用前后的控制。有点类似于 “模板方法模式”"></a>wrap: 以函数作为函数传递，可以增加函数调用前后的控制。有点类似于 “模板方法模式”</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> hello = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123; <span class="keyword">return</span> <span class="string">"hello: "</span> + name; &#125;;</div><div class="line">hello = _.wrap(hello, <span class="function"><span class="keyword">function</span>(<span class="params">func</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="string">"before, "</span> + func(<span class="string">"moe"</span>) + <span class="string">", after"</span>;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(hello());</div><div class="line">=&gt; before, <span class="attr">hello</span>: moe, after</div></pre></td></tr></table></figure>
<h4 id="compose-组合函数调用关系，把单独的f-g-h-组合成f-g-h"><a href="#compose-组合函数调用关系，把单独的f-g-h-组合成f-g-h" class="headerlink" title="compose: 组合函数调用关系，把单独的f(),g(),h()组合成f(g(h()))"></a>compose: 组合函数调用关系，把单独的f(),g(),h()组合成f(g(h()))</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> greet    = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123; <span class="keyword">return</span> <span class="string">"A: "</span> + name; &#125;;</div><div class="line"><span class="keyword">var</span> exclaim  = <span class="function"><span class="keyword">function</span>(<span class="params">statement</span>)</span>&#123; <span class="keyword">return</span> <span class="string">"B: "</span>+statement + <span class="string">"!"</span>; &#125;;</div><div class="line"><span class="keyword">var</span> welcome = _.compose(exclaim, greet);</div><div class="line"><span class="built_in">console</span>.log(welcome(<span class="string">'moe'</span>));</div><div class="line">=&gt; B: A: moe!</div></pre></td></tr></table></figure>
<h3 id="6-对象部分"><a href="#6-对象部分" class="headerlink" title="6. 对象部分"></a>6. 对象部分</h3><h4 id="keys-values-paris-invert-取属性名，取属性值，把对象转换成-key-value-数组，对调键值"><a href="#keys-values-paris-invert-取属性名，取属性值，把对象转换成-key-value-数组，对调键值" class="headerlink" title="keys,values,paris,invert: 取属性名，取属性值，把对象转换成[key,value]数组，对调键值"></a>keys,values,paris,invert: 取属性名，取属性值，把对象转换成[key,value]数组，对调键值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">one</span>: <span class="number">1</span>, <span class="attr">two</span>: <span class="number">2</span>, <span class="attr">three</span>: <span class="number">3</span>&#125;</div><div class="line"><span class="built_in">console</span>.log(_.keys(obj));</div><div class="line"><span class="built_in">console</span>.log(_.values(obj));</div><div class="line"><span class="built_in">console</span>.log(_.pairs(obj));</div><div class="line"><span class="built_in">console</span>.log(_.invert(obj));</div><div class="line">=&gt; [ <span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span> ]</div><div class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</div><div class="line">[ [ <span class="string">'one'</span>, <span class="number">1</span> ], [ <span class="string">'two'</span>, <span class="number">2</span> ], [ <span class="string">'three'</span>, <span class="number">3</span> ] ]</div><div class="line">&#123; <span class="string">'1'</span>: <span class="string">'one'</span>, <span class="string">'2'</span>: <span class="string">'two'</span>, <span class="string">'3'</span>: <span class="string">'three'</span> &#125;</div></pre></td></tr></table></figure>
<h4 id="functions：返回对象的所有方法名"><a href="#functions：返回对象的所有方法名" class="headerlink" title="functions：返回对象的所有方法名"></a>functions：返回对象的所有方法名</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fun = &#123;</div><div class="line">	<span class="attr">fun1</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line">	<span class="attr">fun2</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(_.functions(fun));</div><div class="line">=&gt; [ <span class="string">'fun1'</span>, <span class="string">'fun2'</span> ]</div></pre></td></tr></table></figure>
<h4 id="extend-复制对象的所有属性到目标对象上，覆盖已有属性"><a href="#extend-复制对象的所有属性到目标对象上，覆盖已有属性" class="headerlink" title="extend: 复制对象的所有属性到目标对象上，覆盖已有属性"></a>extend: 复制对象的所有属性到目标对象上，覆盖已有属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.extend(&#123;<span class="attr">name</span> : <span class="string">'moe'</span>&#125;, &#123;<span class="attr">age</span> : <span class="number">50</span>&#125;)</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="attr">name</span>: <span class="string">'moe'</span>, <span class="attr">age</span>: <span class="number">50</span> &#125;</div></pre></td></tr></table></figure>
<h4 id="defaults-复制对象的所有属性到目标对象上，跳过已有属性"><a href="#defaults-复制对象的所有属性到目标对象上，跳过已有属性" class="headerlink" title="defaults: 复制对象的所有属性到目标对象上，跳过已有属性"></a>defaults: 复制对象的所有属性到目标对象上，跳过已有属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> iceCream = &#123;<span class="attr">flavor</span> : <span class="string">"chocolate"</span>&#125;;</div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.defaults(iceCream, &#123;<span class="attr">flavor</span> : <span class="string">"vanilla"</span>, <span class="attr">sprinkles</span> : <span class="string">"lots"</span>&#125;)</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="attr">flavor</span>: <span class="string">'chocolate'</span>, <span class="attr">sprinkles</span>: <span class="string">'lots'</span> &#125;</div></pre></td></tr></table></figure>
<h4 id="pick-omit-返回一个对象的副本，保留指定的属性或去掉指定的属性"><a href="#pick-omit-返回一个对象的副本，保留指定的属性或去掉指定的属性" class="headerlink" title="pick,omit: 返回一个对象的副本，保留指定的属性或去掉指定的属性"></a>pick,omit: 返回一个对象的副本，保留指定的属性或去掉指定的属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.pick(&#123;<span class="attr">name</span> : <span class="string">'moe'</span>, <span class="attr">age</span>: <span class="number">50</span>, <span class="attr">userid</span> : <span class="string">'moe1'</span>&#125;, <span class="string">'name'</span>, <span class="string">'age'</span>)</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="attr">name</span>: <span class="string">'moe'</span>, <span class="attr">age</span>: <span class="number">50</span> &#125;</div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.omit(&#123;<span class="attr">name</span> : <span class="string">'moe'</span>, <span class="attr">age</span> : <span class="number">50</span>, <span class="attr">userid</span> : <span class="string">'moe1'</span>&#125;, <span class="string">'userid'</span>)</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="attr">name</span>: <span class="string">'moe'</span>, <span class="attr">age</span>: <span class="number">50</span> &#125;</div></pre></td></tr></table></figure>
<h4 id="clone-引入方式克隆对象，不进行复制"><a href="#clone-引入方式克隆对象，不进行复制" class="headerlink" title="clone: 引入方式克隆对象，不进行复制"></a>clone: 引入方式克隆对象，不进行复制</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.clone(&#123;<span class="attr">name</span> : <span class="string">'moe'</span>&#125;);</div><div class="line">);</div><div class="line">=&gt; &#123;<span class="attr">name</span> : <span class="string">'moe'</span>&#125;;</div></pre></td></tr></table></figure>
<h4 id="tag-用对象作为参数来调用函数，作为函数链式调用的一环"><a href="#tag-用对象作为参数来调用函数，作为函数链式调用的一环" class="headerlink" title="tag: 用对象作为参数来调用函数，作为函数链式调用的一环"></a>tag: 用对象作为参数来调用函数，作为函数链式调用的一环</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.chain([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">200</span>])</div><div class="line">		.filter(<span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123; <span class="keyword">return</span> num % <span class="number">2</span> == <span class="number">0</span>; &#125;)</div><div class="line">		.tap(<span class="built_in">console</span>.log)</div><div class="line">		.map(<span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123; <span class="keyword">return</span> num * num &#125;)</div><div class="line">		.value()</div><div class="line">);</div><div class="line">=&gt; [ <span class="number">2</span>, <span class="number">200</span> ]</div><div class="line">[ <span class="number">4</span>, <span class="number">40000</span> ]</div></pre></td></tr></table></figure>
<h4 id="has-判断对象是否包含指定的属性名"><a href="#has-判断对象是否包含指定的属性名" class="headerlink" title="has: 判断对象是否包含指定的属性名"></a>has: 判断对象是否包含指定的属性名</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.has(&#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span>&#125;, <span class="string">"b"</span>));</div></pre></td></tr></table></figure>
<h4 id="isEqual-判断两个对象是值相等"><a href="#isEqual-判断两个对象是值相等" class="headerlink" title="isEqual: 判断两个对象是值相等"></a>isEqual: 判断两个对象是值相等</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> moe   = &#123;<span class="attr">name</span> : <span class="string">'moe'</span>, <span class="attr">luckyNumbers</span> : [<span class="number">13</span>, <span class="number">27</span>, <span class="number">34</span>]&#125;;</div><div class="line"><span class="keyword">var</span> clone = &#123;<span class="attr">name</span> : <span class="string">'moe'</span>, <span class="attr">luckyNumbers</span> : [<span class="number">13</span>, <span class="number">27</span>, <span class="number">34</span>]&#125;;</div><div class="line"><span class="built_in">console</span>.log(moe == clone);</div><div class="line">=&gt; <span class="literal">false</span></div><div class="line"><span class="built_in">console</span>.log(_.isEqual(moe, clone));</div><div class="line">=&gt; <span class="literal">true</span></div></pre></td></tr></table></figure>
<h4 id="判断对象类型的方法，下面反回值都是true"><a href="#判断对象类型的方法，下面反回值都是true" class="headerlink" title="判断对象类型的方法，下面反回值都是true"></a>判断对象类型的方法，下面反回值都是true</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.isEmpty(&#123;&#125;));</div><div class="line"><span class="built_in">console</span>.log(_.isArray([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]));</div><div class="line"><span class="built_in">console</span>.log(_.isObject(&#123;&#125;));</div><div class="line"><span class="built_in">console</span>.log((<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="keyword">return</span> _.isArguments(<span class="built_in">arguments</span>); &#125;)(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</div><div class="line"><span class="built_in">console</span>.log(_.isFunction(<span class="built_in">console</span>.log));</div><div class="line"><span class="built_in">console</span>.log(_.isString(<span class="string">"moe"</span>));</div><div class="line"><span class="built_in">console</span>.log(_.isNumber(<span class="number">8.4</span> * <span class="number">5</span>));</div><div class="line"><span class="built_in">console</span>.log(_.isFinite(<span class="number">-101</span>));</div><div class="line"><span class="built_in">console</span>.log(_.isBoolean(<span class="literal">true</span>));</div><div class="line"><span class="built_in">console</span>.log(_.isDate(<span class="keyword">new</span> <span class="built_in">Date</span>()));</div><div class="line"><span class="built_in">console</span>.log(_.isNaN(<span class="literal">NaN</span>));</div><div class="line"><span class="built_in">console</span>.log(_.isNull(<span class="literal">null</span>));</div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(<span class="literal">undefined</span>));</div><div class="line">=&gt; <span class="literal">true</span></div></pre></td></tr></table></figure>
<h3 id="7-实用功能"><a href="#7-实用功能" class="headerlink" title="7. 实用功能"></a>7. 实用功能</h3><h4 id="identity-返回与传入参数相等的值-相当于数学里的-f-x-x"><a href="#identity-返回与传入参数相等的值-相当于数学里的-f-x-x" class="headerlink" title="identity: 返回与传入参数相等的值. 相当于数学里的: f(x) = x"></a>identity: 返回与传入参数相等的值. 相当于数学里的: f(x) = x</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> moe = &#123;<span class="attr">name</span> : <span class="string">'moe'</span>&#125;;</div><div class="line"><span class="built_in">console</span>.log(moe === _.identity(moe));</div><div class="line">=&gt; <span class="literal">true</span></div></pre></td></tr></table></figure>
<h4 id="times-设计调用次数"><a href="#times-设计调用次数" class="headerlink" title="times: 设计调用次数"></a>times: 设计调用次数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">_(<span class="number">3</span>).times(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123; <span class="built_in">console</span>.log(n); &#125;);</div><div class="line">=&gt; <span class="number">0</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure>
<h4 id="random-返回范围内的随机数"><a href="#random-返回范围内的随机数" class="headerlink" title="random: 返回范围内的随机数"></a>random: 返回范围内的随机数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.random(<span class="number">0</span>, <span class="number">100</span>));</div><div class="line">=&gt; <span class="number">30</span></div></pre></td></tr></table></figure>
<h4 id="mixin-封装自己的函数到Underscore对象中，后面Underscore-string就是这种方式的集成"><a href="#mixin-封装自己的函数到Underscore对象中，后面Underscore-string就是这种方式的集成" class="headerlink" title="mixin: 封装自己的函数到Underscore对象中，后面Underscore.string就是这种方式的集成"></a>mixin: 封装自己的函数到Underscore对象中，后面Underscore.string就是这种方式的集成</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">_.mixin(&#123;</div><div class="line">	<span class="attr">capitalize</span> : <span class="function"><span class="keyword">function</span>(<span class="params">string</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> string.charAt(<span class="number">0</span>).toUpperCase() + string.substring(<span class="number">1</span>).toLowerCase();</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">"fabio"</span>).capitalize());</div><div class="line">=&gt; Fabio</div></pre></td></tr></table></figure>
<h4 id="uniqueId-产生一个全局的唯一id，以参数作为前缀"><a href="#uniqueId-产生一个全局的唯一id，以参数作为前缀" class="headerlink" title="uniqueId:产生一个全局的唯一id，以参数作为前缀"></a>uniqueId:产生一个全局的唯一id，以参数作为前缀</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.uniqueId(<span class="string">'contact_'</span>));</div><div class="line">=&gt; contact_1</div><div class="line"><span class="built_in">console</span>.log(_.uniqueId(<span class="string">'contact_'</span>));</div><div class="line">=&gt; contact_2</div></pre></td></tr></table></figure>
<h4 id="escape-unescape-转义HTML字符串，反转到HTML字符串"><a href="#escape-unescape-转义HTML字符串，反转到HTML字符串" class="headerlink" title="escape,unescape:转义HTML字符串，反转到HTML字符串"></a>escape,unescape:转义HTML字符串，反转到HTML字符串</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.escape(<span class="string">'Curly, Larry &amp; Moe'</span>));</div><div class="line">=&gt; Curly, Larry &amp;amp; Moe</div><div class="line"><span class="built_in">console</span>.log(_.unescape(<span class="string">'Curly, Larry &amp;amp; Moe'</span>));</div><div class="line">=&gt; Curly, Larry &amp; Moe</div></pre></td></tr></table></figure>
<h4 id="result-通过字符串调用对象的函数，或返回属性值"><a href="#result-通过字符串调用对象的函数，或返回属性值" class="headerlink" title="result: 通过字符串调用对象的函数，或返回属性值"></a>result: 通过字符串调用对象的函数，或返回属性值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">cheese</span>: <span class="string">'crumpets'</span>, <span class="attr">stuff</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="keyword">return</span> <span class="string">'nonsense'</span>; &#125;&#125;;</div><div class="line"><span class="built_in">console</span>.log(_.result(obj, <span class="string">'cheese'</span>));</div><div class="line">=&gt; crumpets</div><div class="line"><span class="built_in">console</span>.log(_.result(obj, <span class="string">'stuff'</span>));</div><div class="line">=&gt; nonsense</div></pre></td></tr></table></figure>
<h4 id="template-将-JavaScript-模板编译为可以用于页面呈现的函数-对于通过JSON数据源生成复杂的HTML并呈现出来的操作非常有用-模板函数可以通过以下两种方式插入到页面中-使用-lt-…-gt-也可以用-lt-…-gt-执行任意的-JavaScript-代码-如果您希望插入一个值-并让其进行HTML转义-当您使用创建一个模板时使用-lt-…-gt-传入一个含有与模板对应属性的对象-data-如果您要写一个一次性的-您可以传对象-data-作为第二个参数给模板template-来直接呈现-这样页面会立即呈现而不是返回一个模板函数-参数-settings-是一个哈希表包含任何可以覆盖的设置-templateSettings"><a href="#template-将-JavaScript-模板编译为可以用于页面呈现的函数-对于通过JSON数据源生成复杂的HTML并呈现出来的操作非常有用-模板函数可以通过以下两种方式插入到页面中-使用-lt-…-gt-也可以用-lt-…-gt-执行任意的-JavaScript-代码-如果您希望插入一个值-并让其进行HTML转义-当您使用创建一个模板时使用-lt-…-gt-传入一个含有与模板对应属性的对象-data-如果您要写一个一次性的-您可以传对象-data-作为第二个参数给模板template-来直接呈现-这样页面会立即呈现而不是返回一个模板函数-参数-settings-是一个哈希表包含任何可以覆盖的设置-templateSettings" class="headerlink" title="template: 将 JavaScript 模板编译为可以用于页面呈现的函数, 对于通过JSON数据源生成复杂的HTML并呈现出来的操作非常有用. 模板函数可以通过以下两种方式插入到页面中, 使用&lt;%= … %&gt;, 也可以用&lt;% … %&gt;执行任意的 JavaScript 代码. 如果您希望插入一个值, 并让其进行HTML转义, 当您使用创建一个模板时使用 &lt;%- … %&gt; , 传入一个含有与模板对应属性的对象 data. 如果您要写一个一次性的, 您可以传对象 data 作为第二个参数给模板template 来直接呈现, 这样页面会立即呈现而不是返回一个模板函数. 参数 settings 是一个哈希表包含任何可以覆盖的设置_.templateSettings."></a>template: 将 JavaScript 模板编译为可以用于页面呈现的函数, 对于通过JSON数据源生成复杂的HTML并呈现出来的操作非常有用. 模板函数可以通过以下两种方式插入到页面中, 使用&lt;%= … %&gt;, 也可以用&lt;% … %&gt;执行任意的 JavaScript 代码. 如果您希望插入一个值, 并让其进行HTML转义, 当您使用创建一个模板时使用 &lt;%- … %&gt; , 传入一个含有与模板对应属性的对象 data. 如果您要写一个一次性的, 您可以传对象 data 作为第二个参数给模板template 来直接呈现, 这样页面会立即呈现而不是返回一个模板函数. 参数 settings 是一个哈希表包含任何可以覆盖的设置_.templateSettings.</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> compiled = _.template(<span class="string">"hello: &lt;%= name %&gt;"</span>);</div><div class="line"><span class="built_in">console</span>.log(compiled(&#123;<span class="attr">name</span> : <span class="string">'moe'</span>&#125;));</div><div class="line">=&gt;hello: moe</div><div class="line"></div><div class="line"><span class="keyword">var</span> list = <span class="string">"&lt;% _.each(people, function(name) &#123; %&gt; &lt;li&gt;&lt;%= name %&gt;&lt;/li&gt; &lt;% &#125;); %&gt;"</span>;</div><div class="line"><span class="built_in">console</span>.log(_.template(list, &#123;<span class="attr">people</span> : [<span class="string">'moe'</span>, <span class="string">'curly'</span>, <span class="string">'larry'</span>]&#125;));</div><div class="line">=&gt; &lt;li&gt;moe&lt;/li&gt; &lt;li&gt;curly&lt;<span class="regexp">/li&gt; &lt;li&gt;larry&lt;/</span>li&gt;</div><div class="line"></div><div class="line"><span class="keyword">var</span> template = _.template(<span class="string">"&lt;b&gt;&lt;%- value %&gt;&lt;/b&gt;"</span>);</div><div class="line"><span class="built_in">console</span>.log(template(&#123;<span class="attr">value</span> : <span class="string">'&lt;script&gt;'</span>&#125;));</div><div class="line">=&gt; &lt;b&gt;&amp;lt;script&amp;gt;&lt;/b&gt;</div><div class="line"></div><div class="line"><span class="keyword">var</span> compiled = _.template(<span class="string">"&lt;% print('Hello ' + epithet); %&gt;"</span>);</div><div class="line"><span class="built_in">console</span>.log(compiled(&#123;<span class="attr">epithet</span>: <span class="string">"stooge"</span>&#125;));</div><div class="line">=&gt;Hello stooge</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(_.template(<span class="string">"Using 'with': &lt;%= data.answer %&gt;"</span>, &#123;<span class="attr">answer</span>: <span class="string">'no'</span>&#125;, &#123;<span class="attr">variable</span>: <span class="string">'data'</span>&#125;));</div><div class="line">=&gt;Using <span class="string">'with'</span>: no</div><div class="line"></div><div class="line">_.templateSettings = &#123;</div><div class="line"><span class="attr">interpolate</span> : <span class="regexp">/\&#123;\&#123;(.+?)\&#125;\&#125;/g</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> template = _.template(<span class="string">"Hello &#123;&#123; name &#125;&#125;!"</span>);</div><div class="line"><span class="built_in">console</span>.log(template(&#123;<span class="attr">name</span> : <span class="string">"Mustache"</span>&#125;));</div><div class="line">=&gt;Hello Mustache!</div></pre></td></tr></table></figure>
<h3 id="8-链式语法"><a href="#8-链式语法" class="headerlink" title="8. 链式语法"></a>8. 链式语法</h3><h4 id="chain-返回一个封装的对象-在封装的对象上调用方法会返回封装的对象本身-直到value-方法调用为止"><a href="#chain-返回一个封装的对象-在封装的对象上调用方法会返回封装的对象本身-直到value-方法调用为止" class="headerlink" title="chain: 返回一个封装的对象. 在封装的对象上调用方法会返回封装的对象本身, 直到value() 方法调用为止."></a>chain: 返回一个封装的对象. 在封装的对象上调用方法会返回封装的对象本身, 直到value() 方法调用为止.</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stooges = [&#123;<span class="attr">name</span> : <span class="string">'curly'</span>, <span class="attr">age</span> : <span class="number">25</span>&#125;, &#123;<span class="attr">name</span> : <span class="string">'moe'</span>, <span class="attr">age</span> : <span class="number">21</span>&#125;, &#123;<span class="attr">name</span> : <span class="string">'larry'</span>, <span class="attr">age</span> : <span class="number">23</span>&#125;];</div><div class="line"><span class="keyword">var</span> youngest = _.chain(stooges)</div><div class="line">	.sortBy(<span class="function"><span class="keyword">function</span>(<span class="params">stooge</span>)</span>&#123; <span class="keyword">return</span> stooge.age; &#125;)</div><div class="line">	.map(<span class="function"><span class="keyword">function</span>(<span class="params">stooge</span>)</span>&#123; <span class="keyword">return</span> stooge.name + <span class="string">' is '</span> + stooge.age; &#125;)</div><div class="line">	.first()</div><div class="line">	.value();</div><div class="line"><span class="built_in">console</span>.log(youngest);</div><div class="line">=&gt; moe is <span class="number">21</span></div></pre></td></tr></table></figure>
<p>对一个对象使用 chain 方法, 会把这个对象封装并 让以后每次方法的调用结束后都返回这个封装的对象, 当您完成了计算, 可以使用 value 函数来取得最终的值. 以下是一个同时使用了 map/flatten/reduce 的链式语法例子, 目的是计算一首歌的歌词里每一个单词出现的次数.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> lyrics = [</div><div class="line">	&#123;<span class="attr">line</span> : <span class="number">1</span>, <span class="attr">words</span> : <span class="string">"I'm a lumberjack and I'm okay"</span>&#125;,</div><div class="line">	&#123;<span class="attr">line</span> : <span class="number">2</span>, <span class="attr">words</span> : <span class="string">"I sleep all night and I work all day"</span>&#125;,</div><div class="line">	&#123;<span class="attr">line</span> : <span class="number">3</span>, <span class="attr">words</span> : <span class="string">"He's a lumberjack and he's okay"</span>&#125;,</div><div class="line">	&#123;<span class="attr">line</span> : <span class="number">4</span>, <span class="attr">words</span> : <span class="string">"He sleeps all night and he works all day"</span>&#125;</div><div class="line">];</div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">	_.chain(lyrics)</div><div class="line">		.map(<span class="function"><span class="keyword">function</span>(<span class="params">line</span>) </span>&#123; <span class="keyword">return</span> line.words.split(<span class="string">' '</span>); &#125;)</div><div class="line">		.flatten()</div><div class="line">		.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">counts, word</span>) </span>&#123;</div><div class="line">			counts[word] = (counts[word] || <span class="number">0</span>) + <span class="number">1</span>;</div><div class="line">			<span class="keyword">return</span> counts;</div><div class="line">		&#125;, &#123;&#125;)</div><div class="line">		.value()</div><div class="line">);</div><div class="line">=&gt; &#123; <span class="string">'I\'m'</span>: <span class="number">2</span>,</div><div class="line"><span class="attr">a</span>: <span class="number">2</span>,</div><div class="line"><span class="attr">lumberjack</span>: <span class="number">2</span>,</div><div class="line"><span class="attr">and</span>: <span class="number">4</span>,</div><div class="line"><span class="attr">okay</span>: <span class="number">2</span>,</div><div class="line"><span class="attr">I</span>: <span class="number">2</span>,</div><div class="line"><span class="attr">sleep</span>: <span class="number">1</span>,</div><div class="line"><span class="attr">all</span>: <span class="number">4</span>,</div><div class="line"><span class="attr">night</span>: <span class="number">2</span>,</div><div class="line"><span class="attr">work</span>: <span class="number">1</span>,</div><div class="line"><span class="attr">day</span>: <span class="number">2</span>,</div><div class="line"><span class="string">'He\'s'</span>: <span class="number">1</span>,</div><div class="line"><span class="string">'he\'s'</span>: <span class="number">1</span>,</div><div class="line"><span class="attr">He</span>: <span class="number">1</span>,</div><div class="line"><span class="attr">sleeps</span>: <span class="number">1</span>,</div><div class="line"><span class="attr">he</span>: <span class="number">1</span>,</div><div class="line"><span class="attr">works</span>: <span class="number">1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="value-提取封装对象的最终值，作为chain-结束标志。"><a href="#value-提取封装对象的最终值，作为chain-结束标志。" class="headerlink" title="value: 提取封装对象的最终值，作为chain()结束标志。"></a>value: 提取封装对象的最终值，作为chain()结束标志。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]).value());</div></pre></td></tr></table></figure>
<h3 id="9-字符串处理Underscore-String"><a href="#9-字符串处理Underscore-String" class="headerlink" title="9. 字符串处理Underscore.String"></a>9. 字符串处理Underscore.String</h3><h4 id="字符串的数字格式化"><a href="#字符串的数字格式化" class="headerlink" title="字符串的数字格式化"></a>字符串的数字格式化</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.numberFormat(<span class="number">1000</span>, <span class="number">2</span>));</div><div class="line">=&gt; <span class="number">1</span>,<span class="number">000.00</span></div><div class="line"><span class="built_in">console</span>.log(_.numberFormat(<span class="number">123456789.123</span>, <span class="number">5</span>, <span class="string">'.'</span>, <span class="string">','</span>));</div><div class="line">=&gt; <span class="number">123</span>,<span class="number">456</span>,<span class="number">789.12300</span></div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'2.556'</span>).toNumber());</div><div class="line">=&gt; <span class="number">3</span></div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'2.556'</span>).toNumber(<span class="number">2</span>));</div><div class="line">=&gt; <span class="number">2.56</span></div><div class="line"><span class="built_in">console</span>.log(_.sprintf(<span class="string">"%.1f"</span>, <span class="number">1.17</span>));</div><div class="line">=&gt; <span class="number">1.2</span></div></pre></td></tr></table></figure>
<h4 id="字符串基础操作"><a href="#字符串基础操作" class="headerlink" title="字符串基础操作"></a>字符串基础操作</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.levenshtein(<span class="string">'kitten'</span>, <span class="string">'kittah'</span>));</div><div class="line">=&gt; <span class="number">2</span></div><div class="line"><span class="built_in">console</span>.log(_.capitalize(<span class="string">'epeli'</span>));</div><div class="line">=&gt; Epeli</div><div class="line"><span class="built_in">console</span>.log(_.chop(<span class="string">'whitespace'</span>, <span class="number">3</span>));</div><div class="line">=&gt; [ <span class="string">'whi'</span>, <span class="string">'tes'</span>, <span class="string">'pac'</span>, <span class="string">'e'</span> ]</div><div class="line"><span class="built_in">console</span>.log(_.clean(<span class="string">" foo    bar   "</span>));</div><div class="line">=&gt; foo bar</div><div class="line"><span class="built_in">console</span>.log(_.chars(<span class="string">'Hello'</span>));</div><div class="line">=&gt; [ <span class="string">'H'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span> ]</div><div class="line"><span class="built_in">console</span>.log(_.swapCase(<span class="string">'hELLO'</span>));</div><div class="line">=&gt; Hello</div><div class="line"><span class="built_in">console</span>.log(_.str.include(<span class="string">"foobar"</span>, <span class="string">"ob"</span>)); <span class="comment">//不兼容API，需要用_.str.fun()</span></div><div class="line">=&gt; <span class="literal">true</span></div><div class="line"><span class="built_in">console</span>.log(_.str.reverse(<span class="string">"foobar"</span>));<span class="comment">//不兼容API，需要用_.str.fun()</span></div><div class="line">=&gt; raboof</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'Hello world'</span>).count(<span class="string">'l'</span>));</div><div class="line">=&gt; <span class="number">3</span></div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'Hello '</span>).insert(<span class="number">6</span>, <span class="string">'world'</span>));</div><div class="line">=&gt; Hello world</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">''</span>).isBlank() &amp;&amp; _(<span class="string">'\n'</span>).isBlank() &amp;&amp; _(<span class="string">' '</span>).isBlank());</div><div class="line">=&gt; <span class="literal">true</span></div><div class="line"><span class="built_in">console</span>.log(_.join(<span class="string">","</span>, <span class="string">"foo"</span>, <span class="string">"bar"</span>));</div><div class="line">=&gt; foo,bar</div><div class="line"><span class="built_in">console</span>.log(_.lines(<span class="string">"Hello\nWorld"</span>));</div><div class="line">=&gt; [ <span class="string">'Hello'</span>, <span class="string">'World'</span> ]</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">"image.gif"</span>).startsWith(<span class="string">"image"</span>));</div><div class="line">=&gt; <span class="literal">true</span></div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">"image.gif"</span>).endsWith(<span class="string">"gif"</span>));</div><div class="line">=&gt; <span class="literal">true</span></div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'a'</span>).succ());<span class="comment">//指下编码的下一个</span></div><div class="line">=&gt; b</div></pre></td></tr></table></figure>
<h4 id="字符串变换"><a href="#字符串变换" class="headerlink" title="字符串变换"></a>字符串变换</h4><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">console.log(_.repeat("foo", 3));</div><div class="line">=&gt; foofoofoo</div><div class="line">console.log(_.repeat("foo", 3, "bar"));</div><div class="line">=&gt; foobarfoobarfoo</div><div class="line">console.log(_.surround("foo", "ab"));</div><div class="line">=&gt; abfooab</div><div class="line">console.log(_.quote('foo', "#"));</div><div class="line">=&gt; #foo#</div><div class="line">console.log(_.unquote('"foo"'));</div><div class="line">=&gt; foo</div><div class="line">console.log(_.unquote("'foo'", "'"));</div><div class="line">=&gt; foo</div><div class="line">console.log(_.slugify("Un éléphant à l'orée du bois"));</div><div class="line">=&gt; un-elephant-a-loree-du-bois</div><div class="line">console.log(['foo20', 'foo5'].sort(_.naturalCmp));</div><div class="line">=&gt; [ 'foo5', 'foo20' ]</div><div class="line">console.log(_.toBoolean("true"));</div><div class="line">=&gt; true</div><div class="line">console.log(_.toBoolean("truthy", ["truthy"], ["falsy"]));</div><div class="line">=&gt; true</div><div class="line">console.log(_.toBoolean("true only at start", [/^true/]));</div><div class="line">=&gt; true</div></pre></td></tr></table></figure>
<h4 id="字符串替换-截断"><a href="#字符串替换-截断" class="headerlink" title="字符串替换,截断"></a>字符串替换,截断</h4><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">console.log(_('https://edtsech@bitbucket.org/edtsech/underscore.strings').splice(30, 7, 'epeli'));</div><div class="line">=&gt; https://edtsech@bitbucket.org/epeli/underscore.strings</div><div class="line">console.log(_.trim("  foobar   "));</div><div class="line">=&gt; foobar</div><div class="line">console.log(_.trim("_-foobar-_", "_-"));</div><div class="line">=&gt; foobar</div><div class="line">console.log(_('Hello world').truncate(5));</div><div class="line">=&gt; Hello...</div><div class="line">console.log(_('Hello, world').prune(5));</div><div class="line">=&gt; Hello...</div><div class="line">console.log(_('Hello, world').prune(5, ' (read a lot more)'));</div><div class="line">=&gt; Hello, world</div><div class="line">console.log(_.words("   I   love   you   "));</div><div class="line">=&gt; [ 'I', 'love', 'you' ]</div><div class="line">console.log(_.words("I-love-you", /-/));</div><div class="line">=&gt; [ 'I', 'love', 'you' ]</div><div class="line">console.log(_('This_is_a_test_string').strRight('_'));</div><div class="line">=&gt; is_a_test_string</div><div class="line">console.log(_('This_is_a_test_string').strRightBack('_'));</div><div class="line">=&gt; string</div><div class="line">console.log(_('This_is_a_test_string').strLeft('_'));</div><div class="line">=&gt; This</div><div class="line">console.log(_('This_is_a_test_string').strLeftBack('_'));</div><div class="line">=&gt; This_is_a_test</div></pre></td></tr></table></figure>
<h4 id="字符串占位"><a href="#字符串占位" class="headerlink" title="字符串占位"></a>字符串占位</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.pad(<span class="string">"1"</span>, <span class="number">8</span>));</div><div class="line">=&gt;        <span class="number">1</span></div><div class="line"><span class="built_in">console</span>.log(_.pad(<span class="string">"1"</span>, <span class="number">8</span>, <span class="string">'0'</span>));</div><div class="line">=&gt; <span class="number">00000001</span></div><div class="line"><span class="built_in">console</span>.log(_.pad(<span class="string">"1"</span>, <span class="number">8</span>, <span class="string">'0'</span>, <span class="string">'right'</span>));</div><div class="line">=&gt; <span class="number">10000000</span></div><div class="line"><span class="built_in">console</span>.log(_.pad(<span class="string">"1"</span>, <span class="number">8</span>, <span class="string">'bleepblorp'</span>, <span class="string">'both'</span>));</div><div class="line">=&gt; bbbb1bbb</div><div class="line"><span class="built_in">console</span>.log(_.lpad(<span class="string">"1"</span>, <span class="number">8</span>, <span class="string">'0'</span>));</div><div class="line">=&gt; <span class="number">00000001</span></div><div class="line"><span class="built_in">console</span>.log(_.rpad(<span class="string">"1"</span>, <span class="number">8</span>, <span class="string">'0'</span>));</div><div class="line">=&gt; <span class="number">10000000</span></div><div class="line"><span class="built_in">console</span>.log(_.lrpad(<span class="string">"1"</span>, <span class="number">8</span>, <span class="string">'0'</span>));</div><div class="line">=&gt; <span class="number">00001000</span></div></pre></td></tr></table></figure>
<h4 id="字符串语义处理"><a href="#字符串语义处理" class="headerlink" title="字符串语义处理"></a>字符串语义处理</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(_.toSentence([<span class="string">'jQuery'</span>, <span class="string">'Mootools'</span>, <span class="string">'Prototype'</span>]));</div><div class="line">=&gt; jQuery, Mootools and Prototype</div><div class="line"><span class="built_in">console</span>.log(_.toSentence([<span class="string">'jQuery'</span>, <span class="string">'Mootools'</span>, <span class="string">'Prototype'</span>], <span class="string">', '</span>, <span class="string">' unt '</span>));</div><div class="line">=&gt; jQuery, Mootools unt Prototype</div><div class="line"><span class="built_in">console</span>.log(_.toSentenceSerial([<span class="string">'jQuery'</span>, <span class="string">'Mootools'</span>]));</div><div class="line">=&gt; jQuery and Mootools</div><div class="line"><span class="built_in">console</span>.log(_.toSentenceSerial([<span class="string">'jQuery'</span>, <span class="string">'Mootools'</span>, <span class="string">'Prototype'</span>]));</div><div class="line">=&gt; jQuery, Mootools, and Prototype</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'my name is epeli'</span>).titleize());</div><div class="line">=&gt; My Name Is Epeli</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'-moz-transform'</span>).camelize());</div><div class="line">=&gt; MozTransform</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'some_class_name'</span>).classify());</div><div class="line">=&gt; SomeClassName</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'MozTransform'</span>).underscored());</div><div class="line">=&gt; moz_transform</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'MozTransform'</span>).dasherize());</div><div class="line">=&gt; -moz-transform</div><div class="line"><span class="built_in">console</span>.log(_(<span class="string">'  capitalize dash-CamelCase_underscore trim  '</span>).humanize());</div><div class="line">=&gt; Capitalize dash camel <span class="keyword">case</span> underscore trim</div></pre></td></tr></table></figure>
<h4 id="HTML相关操作"><a href="#HTML相关操作" class="headerlink" title="HTML相关操作"></a>HTML相关操作</h4><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">console.log(_('&lt;div&gt;Blah blah blah&lt;/div&gt;').escapeHTML());</div><div class="line">=&gt; &amp;lt;div&amp;gt;Blah blah blah&amp;lt;/div&amp;gt;</div><div class="line">console.log(_('&amp;lt;div&amp;gt;Blah blah blah&amp;lt;/div&amp;gt;').unescapeHTML());</div><div class="line">=&gt;&lt;div&gt;Blah blah blah&lt;/div&gt;</div><div class="line">console.log(_('a &lt;a href="#"&gt;link&lt;/a&gt;').stripTags());</div><div class="line">=&gt;a link</div><div class="line">console.log(_('a &lt;a href="#"&gt;link&lt;/a&gt;&lt;script&gt;alert("hello world!")&lt;/script&gt;').stripTags());</div><div class="line">=&gt;a linkalert("hello world!")</div></pre></td></tr></table></figure>

			
		</div>
		<footer class="article-footer">
			<a data-url="https://utopia1991.github.io/2016/11/23/underscore/" data-id="civujvlr60013c9tdnk5vj7fl" class="article-share-link">分享</a>
			
			
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>

		</footer>
	</div>
	
		
<nav id="article-nav">
  
  
    <a href="/2016/11/14/fisher/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Fisher–Yates shuffle 洗牌算法</div>
    </a>
  
</nav>

	
</article>



				</section>
			</div>
			<footer id="footer">
  
  <div class="outer">
    <div id="footer-info">
      Copyright &copy; Bevis Shen 2016<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
		</div>
		<nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">博文</a>
  
</nav>
		

<script src="https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

	</div>
</body>
<script>
	document.addEventListener('touchmove', function(e) {
		e.preventDefault()
	})
	var c = document.getElementsByTagName('canvas')[0],
		x = c.getContext('2d'),
		pr = window.devicePixelRatio || 1,
		w = window.innerWidth,
		h = window.innerHeight,
		f = 90,
		q,
		m = Math,
		r = 0,
		u = m.PI * 2,
		v = m.cos,
		z = m.random
	c.width = w * pr
	c.height = h * pr
	x.scale(pr, pr)
	x.globalAlpha = 0.6

	function i() {
		x.clearRect(0, 0, w, h)
		q = [{
			x: 0,
			y: h * .7 + f
		}, {
			x: 0,
			y: h * .7 - f
		}]
		while (q[1].x < w + f) d(q[0], q[1])
	}

	function d(i, j) {
		x.beginPath()
		x.moveTo(i.x, i.y)
		x.lineTo(j.x, j.y)
		var k = j.x + (z() * 2 - 0.25) * f,
			n = y(j.y)
		x.lineTo(k, n)
		x.closePath()
		r -= u / -50
		x.fillStyle = '#' + (v(r) * 127 + 128 << 16 | v(r + u / 3) * 127 + 128 << 8 | v(r + u / 3 * 2) * 127 + 128).toString(16)
		x.fill()
		q[0] = q[1]
		q[1] = {
			x: k,
			y: n
		}
	}

	function y(p) {
		var t = p + (z() * 2 - 1.1) * f
		return (t > h || t < 0) ? y(p) : t
	}
	document.onclick = i
	document.ontouchstart = i
	i()
</script>
</html>
